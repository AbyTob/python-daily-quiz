# Python Quiz Question
    
    ## Question
    ### Part 1 (Question)
Consider the following Python code that aims to create a custom decorator to measure the execution time of functions. The decorator should also be able to handle asynchronous functions.

```python
import time
from functools import wraps

def time_decorator(func):
    @wraps(func)
    def wrapper(*args, **kwargs):
        start_time = time.time()
        result = func(*args, **kwargs)
        end_time = time.time()
        print(f"Function {func.__name__} took {end_time - start_time:.4f} seconds to execute.")
        return result
    return wrapper

async def async_function():
    await asyncio.sleep(1)

@time_decorator
def normal_function():
    time.sleep(1)
```

Which of the following statements is true regarding this code?

A) The `time_decorator` can only be used with synchronous functions.
B) The `time_decorator` will correctly measure the execution time of both synchronous and asynchronous functions.
C) When applied to an asynchronous function, the decorator will raise a `TypeError`.
D) The `async_function` is not wrapped by the decorator.
    
    ## Answer
    ### Part 2 (Answer)
**Correct Answer:** B) The `time_decorator` will correctly measure the execution time of both synchronous and asynchronous functions.

**Explanation:**
The provided `time_decorator` uses Python's built-in `time.time()` function, which is designed to work with both synchronous and asynchronous operations. However, applying this decorator directly to an asynchronous function (like `async_function`) will not work as intended because `time.time()` measures the time between calling it and when the result of the function call is returned, but in the case of an async function, the actual execution may be delayed due to waiting on I/O operations.

To handle this correctly for async functions, we would need to use `asyncio.get_event_loop().run_until_complete(func(*args, **kwargs))` inside the decorator when wrapping an async function. Therefore, while the decorator can theoretically measure synchronous functions, it needs additional handling for asynchronous functions to ensure accurate timing.
    
    ---
    *Generated on: 2025-09-24 16:02:00*
    