# Python Quiz Question
    
    ## Question
    [QUESTION]  
Consider the following Python code that uses a custom metaclass and class decorator to create a singleton pattern:

```python
class SingletonMeta(type):
    _instances = {}
    
    def __call__(cls, *args, **kwargs):
        if cls not in cls._instances:
            cls._instances[cls] = super().__call__(*args, **kwargs)
        return cls._instances[cls]

def singleton(cls):
    class Wrapper(cls):
        __metaclass__ = SingletonMeta
    return Wrapper

@singleton
class DatabaseConnection:
    def __init__(self, connection_string):
        self.connection_string = connection_string
    
    def connect(self):
        print(f"Connecting to {self.connection_string}")

db1 = DatabaseConnection("server=localhost")
db2 = DatabaseConnection("server=localhost")

print(db1 is db2)  # Should print True
db1.connect()
```

Which of the following statements about this code are true? Select all that apply.

A) The `SingletonMeta` metaclass ensures that only one instance of `DatabaseConnection` can be created.
B) The `singleton` decorator uses a wrapper class to apply the singleton behavior.
C) The `__call__` method in `SingletonMeta` is responsible for creating and returning instances of the class.
D) Calling `db1.connect()` will print "Connecting to server=localhost".
E) The use of metaclasses can lead to decreased code readability.
    
    ## Answer
    A, C, D  
A) Correct: The `__call__` method in `SingletonMeta` checks if an instance already exists and creates one if not.  
C) Correct: The `__call__` method is crucial for the singleton pattern as it controls instance creation.
D) Correct: Calling `db1.connect()` correctly prints "Connecting to server=localhost".
E) Incorrect: While metaclasses can be complex, they are a powerful feature of Python and do not necessarily decrease readability when used appropriately.
    
    ---
    *Generated on: 2026-02-03 00:02:08*
    