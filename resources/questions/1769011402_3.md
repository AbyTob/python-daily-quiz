# Python Quiz Question
    
    ## Question
    **Part 1 (Question):**

You are working on a Python application where you need to manage resources efficiently, especially in the context of long-running processes. You decide to implement a custom context manager that not only ensures that resources are properly acquired and released but also logs their usage time.

Create a class `ResourceManager` that can be used as a context manager. The class should:
- Accept a resource name when instantiated.
- On entering, it should log the current time and return the resource name.
- On exiting, it should calculate and log the total time the resource was in use and release the resource.

Here is an example of how you might use this class:

```python
with ResourceManager("database"):
    # Simulate using the resource
    import time
    time.sleep(2)
```

The expected output (assuming current time is 10:30 AM) should be something like:
```
Resource acquired at 10:30 AM for database
Resource released after 2 seconds of use
```

Which of the following options correctly implements the `ResourceManager` class?

A)
```python
import datetime

class ResourceManager:
    def __init__(self, resource_name):
        self.resource_name = resource_name
    
    def __enter__(self):
        print(f"Resource acquired at {datetime.datetime.now()} for {self.resource_name}")
        return self.resource_name
    
    def __exit__(self, exc_type, exc_value, traceback):
        elapsed_time = datetime.datetime.now() - enter_time
        print(f"Resource released after {elapsed_time.total_seconds()} seconds of use")
```

B)
```python
import time

class ResourceManager:
    def __init__(self, resource_name):
        self.resource_name = resource_name
    
    def __enter__(self):
        self.start_time = time.time()
        return self.resource_name
    
    def __exit__(self, exc_type, exc_value, traceback):
        elapsed_time = time.time() - self.start_time
        print(f"Resource released after {elapsed_time} seconds of use")
```

C)
```python
import datetime

class ResourceManager:
    def __init__(self, resource_name):
        self.resource_name = resource_name
    
    def __enter__(self):
        print(f"Resource acquired at {datetime.datetime.now()} for {self.resource_name}")
        return self.resource_name
    
    def __exit__(self, exc_type, exc_value, traceback):
        enter_time = datetime.datetime.now()
        elapsed_time = enter_time - start_time
        print(f"Resource released after {elapsed_time.total_seconds()} seconds of use")
```

D)
```python
import time

class ResourceManager:
    def __init__(self, resource_name):
        self.resource_name = resource_name
    
    def __enter__(self):
        return self.resource_name
    
    def __exit__(self, exc_type, exc_value, traceback):
        print(f"Resource released after {time.sleep(2)} seconds of use")
```

**Part 2 (Answer):**

B) is the correct answer.

Explanation: 
- Option B correctly captures the start time when entering the context and calculates the elapsed time when exiting. This allows for accurate logging of how long each resource was in use.
- Option A tries to access a variable `enter_time` that has not been defined, resulting in an error.
- Option C attempts to access a variable `start_time` that is not defined in its scope, leading to another error.
- Option D uses `time.sleep(2)` directly in the `__exit__` method, which does not calculate and log the elapsed time as intended.
    
    ## Answer
    Answer format error. Please check the generated content.
    
    ---
    *Generated on: 2026-01-21 16:03:22*
    