# Python Quiz Question
    
    ## Question
    [QUESTION]
Consider the following Python code snippet that uses a decorator to log method calls on a class instance. The decorator should also ensure that each method can only be called once per instance.

```python
def single_call(func):
    def wrapper(*args, **kwargs):
        if hasattr(args[0], 'called'):
            raise Exception("Method already called")
        args[0].called = True
        return func(*args, **kwargs)
    return wrapper

class MyClass:
    @single_call
    def my_method(self):
        print("Method called")

# Usage
obj = MyClass()
obj.my_method()  # Expected output: Method called
try:
    obj.my_method()  # Should raise an exception
except Exception as e:
    print(e)  # Expected output: Method already called
```

Which of the following modifications is required to ensure that `my_method` can only be called once per class, not just per instance?

A) Move the `called` attribute to a metaclass.
B) Change the decorator to use a class variable instead of an instance attribute.
C) Use a thread-safe lock within the decorator.
D) Implement a custom descriptor for the method.
    
    ## Answer
    B) Change the decorator to use a class variable instead of an instance attribute.

Explanation: The current implementation checks if the `called` attribute exists on the first argument (the instance). However, this only restricts calling the method once per instance. To ensure that the method can only be called once per class, we need to use a class variable or a metaclass attribute instead of an instance attribute. This way, the state is shared across all instances of the class, enforcing the single call constraint at the class level.
    
    ---
    *Generated on: 2025-12-06 08:01:46*
    